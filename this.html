<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    // var obj = {
    //   say: function() {
    //     var f1 = () =>  {
    //       console.log("1111", this);
    //     }
    //     f1();
    //   },
    //   pro: {
    //     getPro:() =>  {
    //         console.log(this);
    //     }
    //   }
    // }
    // var o = obj.say;
    // o(); 1111  window
    // obj.say(); 1111 obj
    // obj.pro.getPro(); window

    window.number = 2;
    var obj = {
    number: 3,
    db1: (function(){
      console.log(this); 
      // 只在定义的时候执行一次，此时this是window
      this.number *= 4;
      return function(){
        console.log(this);
        this.number *= 5;
      }
    })()
    }
    var db1 = obj.db1;// 无输出，此时db1已被赋值为一个function
    db1();/*
      仅执行function(){
        console.log(this);
        this.number *= 5;
      }中的内容。此时this是window
    */
    obj.db1();/*
      仅执行function(){
        console.log(this);
        this.number *= 5;
      }中的内容。此时this是obj
    */
    console.log(obj.number);     // 15
    console.log(window.number);  // 40
  </script>
</head>
<body>
  
</body>
</html>